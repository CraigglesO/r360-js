<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Route360° JavaScript API - Leaflet plugin for online network analysis</title>

    <!-- Bootstrap Core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet" type="text/css">
    <link href="css/freelancer.css" rel="stylesheet" type="text/css">
    <link href="css/prettify.css" rel="stylesheet" type="text/css">

    <!-- Fonts -->
    <link href="font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href='http://fonts.googleapis.com/css?family=Montserrat:400,700' rel='stylesheet' type='text/css'>

    <!-- IE8 support for HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <link rel="stylesheet" href="css/demo.css"/>
    <link rel="stylesheet" href="css/r360.css"/>
    <link rel="stylesheet" href="lib/leaflet/leaflet.css"/>
    <link rel="stylesheet" href="lib/jquery/jquery_ui_slider.css"/>
</head>

<body id="page-top" class="index">

    <!-- Navigation -->
    <nav class="navbar navbar-default navbar-fixed-top">
        <div class="container">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header page-scroll">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="#page-top">Route360° JavaScript API</a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-right">
                    <li class="hidden">
                        <a href="#page-top"></a>
                    </li>
                    <li class="page-scroll">
                        <a href="#gettingStarted">Getting started</a>
                    </li>
                    <li class="page-scroll">
                        <a href="#tutorials">Tutorials</a>
                    </li>
                    <li class="page-scroll">
                        <a href="#about">About</a>
                    </li>
                    <li class="page-scroll">
                        <a href="#contact">Contact</a>
                    </li>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container-fluid -->
    </nav>

    <header>
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <img class="img-responsive" src="img/profile.png" alt="">
                    <div class="intro-text">
                        <span class="name">Route360° JavaScript API</span>
                        <hr class="star-light">
                        <span class="skills">Large Geographic Network Analysis - Route Planning - Visualization</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <section id="gettingStarted">
        <div class="container">
            <div class="col-lg-12 text-center">
                <h2>Getting started</h2>
                <hr class="star-primary">
            </div>
            <p style="text-align:justify;">The Route360° JavaScript API is a modern open-source JavaScript library designed for Leaflet's mobile-friendly interactive maps. It is developed by Henning Hollburg and Daniel Gerber from the Motion Intelligence GmbH. <br> The API is free of charge and can be altered and forked as you wish. Since this API makes requests to the Route360° Webservice you need to contact us to get your application key. We provide a development version of the Route360° Webservice, which can be used for development purposes only, but we do not guarantee service uptime at any point.</p>
            <h3>Lets add some polygons</h3>
            <p>This basic example shows you how to add a marker to the map and display reachablity polygons from this location. Note that we do not set a travel mode, this defaults to 'bike' for now.</p>

            <p>First we are initializing the Leaflet map, set a tile layer and add a marker, which could be an appartment, a hotel or your store etc.:</p>
<pre class="prettyprint">
// add the map and set the initial center to berlin
var map = L.map('map').setView([52.516389, 13.377778], 13);
// attribution to give credit to OSM map data and VBB for public transportation 
var attribution ="&lt;a href='https://www.mapbox.com/about/maps/' target='_blank'&gt;&copy; Mapbox &copy; OpenStreetMap&lt;/a&gt; | &Ouml;PNV Daten &copy; &lt;a href='http://www.vbb.de/de/index.html' target='_blank'&gt;VBB&lt;/a&gt; | developed by &lt;a href='http://www.route360.net/de/' target='_blank'&gt;Route360&deg;&lt;/a&gt;";

 // initialising the base map. To change the base map just change following lines as described by cloudmade, mapbox etc..
L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {
        maxZoom: 18,
        attribution: attribution
}).addTo(map);

// create a marker and add it to the map (make sure to fix the icon urls)
var marker = L.marker([52.51, 13.37], {icon : L.icon({iconUrl: 'img/marker-icon.png', shadowUrl: 'img/marker-shadow.png', iconAnchor: [12,45]})});
marker.addTo(map);
</pre>
            <p>No we add a layer for the reachability polygons, call the Route360° Webservice and render the resulting polygons on the map:</p>
<pre class="prettyprint">
// set the service url, note that this is a development/testing endpoint only
// we do not guarantuee service uptime at any point
r360.config.serviceUrl = 'http://144.76.246.52:8080/api/';

// create the layer to add the polygons
var cpl = r360.route360PolygonLayer();
// add it to the map
map.addLayer(cpl);

// you need to define some options for the polygon service
// for more travel options check out the other tutorials
var travelOptions = {
    // we only have one source which is the marker we just added
    sources : [marker],
    // we want to have polygons for 10 minutes and 20 minutes
    travelTimes : [600,1200]
};

// call the service
r360.PolygonService.getTravelTimePolygons(travelOptions, function(polygons){
        
        // add the returned polygons to the polygon layer 
        cpl.addLayer(polygons);
        
        // zoom the map to fit the polygons perfectly
        map.fitBounds(cpl.getBoundingBox());
}); 
</pre>
            <p>You should see something like this:
                <div id="map-example1"></div>
            </p>
            

        </div>
    </section>

    <section class="tutorials" id="tutorials">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center">
                    <h2>Tutorials</h2>
                    <hr class="star-light">
                </div>
            </div>
            <div class="row">
                <div class="container">
                    <div class="col-lg-2">
                        <ul class="nav nav-pills nav-stacked">
                            <li class="active"><a href="#traveltimecontrol" data-toggle="tab">Travel time control</a></li>
                            <li><a href="#routing" data-toggle="tab">Routing</a></li>
                        </ul>
                    </div>
                    <div class="col-lg-10">
                        <div class="tab-content">
                            <div class="tab-pane active" id="traveltimecontrol">
                                <p>In this tutorial, we will show you how to add a travel time control to the map and add behaviour to it, so that users can select different travel times and the map is automatically updated with larger or smaller (timely speaking) polygons. This tutorial builds up on the getting started section, so if you haven't done this already, go ahead and show some polygons! In any case, enjoy!</p>
                                <div id="map-addTravelTimeControlExample"></div>
                                <p>And the code with explanations:</p>
                                <pre class="prettyprint" id="addTravelTimeControlExample"></pre>                            
                            </div>
                            <div class="tab-pane" id="routing">
                                Bacon ipsum dolor sit amet shoulder pork t-bone, hamburger sirloin tongue porchetta. Spare ribs ham hock meatball jerky, strip steak rump capicola tri-tip porchetta. Brisket turkey leberkas kevin fatback ground round cow ribeye landjaeger ball tip meatloaf t-bone pastrami meatball jowl. Shank salami short loin, prosciutto pig cow spare ribs bresaola meatloaf shoulder doner chicken landjaeger pork chop. Tenderloin turducken strip steak cow turkey short loin. Pastrami bresaola ground round pork, hamburger flank frankfurter meatball kielbasa fatback venison corned beef beef ribs. Venison sausage leberkas, salami biltong pork chop tenderloin meatball flank.
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>


    <section class="success" id="about">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center">
                    <h2>About</h2>
                    <hr class="star-light">
                </div>
            </div>
            <div class="row">
                <div class="col-lg-4 col-lg-offset-2">
                    <p>Freelancer is a free bootstrap theme created by Start Bootstrap. The download includes the complete source files including HTML, CSS, and JavaScript as well as optional LESS stylesheets for easy customization.</p>
                </div>
                <div class="col-lg-4">
                    <p>Whether you're a student looking to showcase your work, a professional looking to attract clients, or a graphic artist looking to share your projects, this template is the perfect starting point!</p>
                </div>
                <div class="col-lg-8 col-lg-offset-2 text-center">
                    <a href="#" class="btn btn-lg btn-outline">
                        <i class="fa fa-download"></i> Download Theme
                    </a>
                </div>
            </div>
        </div>
    </section>

    <section id="contact">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center">
                    <h2>Contact Me</h2>
                    <hr class="star-primary">
                </div>
            </div>
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2">
                    <form role="form">
                        <div class="row">
                            <div class="form-group col-xs-12 floating-label-form-group">
                                <label for="name">Name</label>
                                <input class="form-control" type="text" name="name" placeholder="Name">
                            </div>
                        </div>
                        <div class="row">
                            <div class="form-group col-xs-12 floating-label-form-group">
                                <label for="email">Email Address</label>
                                <input class="form-control" type="email" name="email" placeholder="Email Address">
                            </div>
                        </div>
                        <div class="row">
                            <div class="form-group col-xs-12 floating-label-form-group">
                                <label for="message">Message</label>
                                <textarea placeholder="Message" class="form-control" rows="5"></textarea>
                            </div>
                        </div>
                        <br>
                        <div class="row">
                            <div class="form-group col-xs-12">
                                <button type="submit" class="btn btn-lg btn-success">Send</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <footer class="text-center">
        <div class="footer-above">
            <div class="container">
                <div class="row">
                    <div class="footer-col col-md-4">
                        <h3>Location</h3>
                        <p>3481 Melrose Place
                            <br>Beverly Hills, CA 90210</p>
                    </div>
                    <div class="footer-col col-md-4">
                        <h3>Around the Web</h3>
                        <ul class="list-inline">
                            <li><a href="#" class="btn-social btn-outline"><i class="fa fa-fw fa-facebook"></i></a>
                            </li>
                            <li><a href="#" class="btn-social btn-outline"><i class="fa fa-fw fa-google-plus"></i></a>
                            </li>
                            <li><a href="#" class="btn-social btn-outline"><i class="fa fa-fw fa-twitter"></i></a>
                            </li>
                            <li><a href="#" class="btn-social btn-outline"><i class="fa fa-fw fa-linkedin"></i></a>
                            </li>
                            <li><a href="#" class="btn-social btn-outline"><i class="fa fa-fw fa-dribbble"></i></a>
                            </li>
                        </ul>
                    </div>
                    <div class="footer-col col-md-4">
                        <h3>About Freelance</h3>
                        <p>Freelance is a free to use, open source Bootstrap theme created by <a href="http://startbootstrap.com">Start Bootstrap</a>.</p>
                    </div>
                </div>
            </div>
        </div>
        <div class="footer-below">
            <div class="container">
                <div class="row">
                    <div class="col-lg-12">
                        Copyright &copy; 2014 - Your Name
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <div class="scroll-top page-scroll visible-xs visble-sm">
        <a class="btn btn-primary" href="#page-top">
            <i class="fa fa-chevron-up"></i>
        </a>
    </div>

    <script src="lib/jquery/jquery-1.10.2.js"></script>
    <script src="lib/jquery/jquery_ui_1_10_4.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js"></script>
    <script src="js/classie.js"></script>
    <script src="js/cbpAnimatedHeader.js"></script>
    <script src="js/freelancer.js"></script>
    <script src="js/prettify.js"></script>
    <script src="lib/leaflet/leaflet.js"></script>
    <script src="js/underscore.js"></script>
    <script src="js/raphael-min.js"></script>
    <script src="js/g.raphael-min.js"></script>
    <script src="js/g.line-min.js"></script>

    <script type="text/javascript" src="../../build/deps.js"></script>
    <script src="../r360-include.js"></script>

    <!-- Code for example 1 -->
    <script type="text/javascript">
        $(document).ready(function(){

            // add the map and set the initial center to berlin
            var map = L.map('map-example1').setView([52.51, 13.37], 13);
            // attribution to give credit to OSM map data and VBB for public transportation 
            var attribution ="<a href='https://www.mapbox.com/about/maps/' target='_blank'>© Mapbox © OpenStreetMap</a> | ÖPNV Daten © <a href='http://www.vbb.de/de/index.html' target='_blank'>VBB</a> | developed by <a href='http://www.route360.net/de/' target='_blank'>Route360°</a>";

             // initialising the base map. To change the base map just change following lines as described by cloudmade, mapbox etc..
            L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {
                    maxZoom: 18,
                    attribution: attribution
            }).addTo(map);

            // create a marker and add it to the map
            var marker = L.marker([52.51, 13.37]);
            marker.addTo(map);

            // set the service url, note that this is a development/testing endpoint only
            // we do not guarantuee service uptime at any point
            // r360.config.serviceUrl = 'http://144.76.246.52:8080/api/';

            // create the layer to add the polygons
            var cpl = r360.route360PolygonLayer();
            // add it to the map
            map.addLayer(cpl);

            // you need to define some options for the polygon service
            // for more travel options check out the other tutorials
            var travelOptions = {
                // we only have one source which is the marker we just added
                sources : [marker],
                // we want to have polygons for 10 minutes and 20 minutes
                travelTimes : [1200,2400]
            };

            // call the service
            r360.PolygonService.getTravelTimePolygons(travelOptions, function(polygons){
                    
                    // add the returned polygons to the polygon layer 
                    cpl.addLayer(polygons);
                    
                    // zoom the map to fit the polygons perfectly
                    map.fitBounds(cpl.getBoundingBox());
            });
        });
    </script>

    <!-- Code for example 2 -->
    <script type="text/javascript">
        $(document).ready(function(){

            addTravelTimeControl();
            $('#addTravelTimeControlExample').text(addTravelTimeControl.toString());

            !function ($) { $(function(){ window.prettyPrint && prettyPrint() })}(window.jQuery);

function addTravelTimeControl(){

    // add the map and set the initial center to berlin
    var map = L.map('map-addTravelTimeControlExample').setView([52.51, 13.37], 13);
    // attribution to give credit to OSM map data and VBB for public transportation 
    var attribution ="<a href='https://www.mapbox.com/about/maps/' target='_blank'>© Mapbox © OpenStreetMap</a> | ÖPNV Daten © <a href='http://www.vbb.de/de/index.html' target='_blank'>VBB</a> | developed by <a href='http://www.route360.net/de/' target='_blank'>Route360°</a>";

     // initialising the base map. To change the base map just change following lines as described by cloudmade, mapbox etc..
    L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {
            maxZoom: 18,
            attribution: attribution
    }).addTo(map);

    // create a marker and add it to the map
    var marker = L.marker([52.51, 13.37]);
    marker.addTo(map);

    // set the service url, note that this is a development/testing endpoint only
    // we do not guarantuee service uptime at any point
    // r360.config.serviceUrl = 'http://144.76.246.52:8080/api/';

    // create the layer to add the polygons
    var cpl = r360.route360PolygonLayer();
    // add it to the map
    map.addLayer(cpl);

    // define time steps and colors here. Always use time values of the same distance and not too much time. 
    // the maximum travel time size is 2 hours, 7200s respectivly, higher values will be blocked be the server
    // travel times are defined in seconds the initial values in minutes... Also the label may be altered here
    var travelTimeControl       = r360.travelTimeControl({
        travelTimes     : [
            { time : 1200 , color : "#006837"},
            { time : 2400 , color : "#39B54A"},
            { time : 3600 , color : "#8CC63F"}
        ],
        position : 'topright', // this is the position in the map
        label: 'Travel time: ', // the label, customize for i18n
        initValue: 40 // the inital value has to match a time from travelTimes, e.g.: 40m == 2400s
    });

    //  bind the action to the travel time control
    travelTimeControl.onSlideStop(function(){ showPolygons(); });

    // add the newly created control to the map
    map.addControl(travelTimeControl);

    // call the helper function to display polygons with initial value
    showPolygons();

    // helper function to encapsulate the show polygon action
    function showPolygons(){

        // you need to define some options for the polygon service
        // for more travel options check out the other tutorials
        var travelOptions = {
            // we only have one source which is the marker we just added
            sources : [marker],
            // we want to have polygons for 10 minutes and 20 minutes
            travelTimes : travelTimeControl.getValues()
        };

        // call the service
        r360.PolygonService.getTravelTimePolygons(travelOptions, function(polygons){
            
            // in case there are already polygons on the map/layer
            cpl.clearLayers();

            // add the returned polygons to the polygon layer 
            cpl.addLayer(polygons);
            
            // zoom the map to fit the polygons perfectly
            map.fitBounds(cpl.getBoundingBox());
        });
    };
}
        });
    </script>
</body>

</html>
