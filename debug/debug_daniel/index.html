<!DOCTYPE html>
<html>
<head>
    <title>Get polygon example</title>
    <meta charset="UTF-8">
    <!-- stylesheets -->
    <link rel="stylesheet" href="leaflet.css"/>
    <link rel="stylesheet" type="text/css" href="jquery-ui-1.10.0.custom.css">
    <link rel="stylesheet" href="r360.css"/>

    <style>
        html, body, #map {

            width: 100%;
            height: 100%;
        }
    </style>

    <!-- scripts -->
    <script src="jquery-1.10.2.js"></script>
    <script src="jquery-ui-1.10.4.min.js"></script>
    <script src="leaflet.js"></script>
    <script src="underscore.js"></script>
    <script type="text/javascript" src="../../lib/build/deps.js"></script>
    <script type="text/javascript" src="../../lib/build/r360-include.js"></script>

     <script type="text/javascript">
        $(document).ready(function(){

            // Berlin latlng = [52.542354,13.343966];
            var oslo = [59.913715,10.752019];

               // add the map and set the initial center to berlin
            var map = L.map('map').setView(oslo, 14);
           
            // attribution to give credit to OSM map data and VBB for public transportation 
            var attribution ="<a href='https://www.mapbox.com/about/maps/' target='_blank'>© Mapbox © OpenStreetMap</a> | ÖPNV Daten © <a href='http://www.vbb.de/de/index.html' target='_blank'>VBB</a> | developed by <a href='http://www.route360.net/de/' target='_blank'>Route360°</a>";

            // initialising the base map. To change the base map just change following
            // lines as described by cloudmade, mapbox etc..
            // note that mapbox is a paided service
            L.tileLayer('http://a.tiles.mapbox.com/v3/mi.h220d1ec/{z}/{x}/{y}.png', {
                maxZoom: 18, attribution: attribution }).addTo(map);


            var correct = [[58.5767, 7.8403],[58.5766, 7.8401],[58.5765, 7.8399],[58.5763, 7.8401],[58.5759, 7.8405],[58.5755, 7.8406],[58.5754, 7.8405],[58.5751, 7.8400],[58.5750, 7.8397],[58.5750, 7.8392],[58.5749, 7.8386],[58.5747, 7.8384],[58.5746, 7.8382],[58.5732, 7.8376],[58.5726, 7.8372],[58.5719, 7.8365],[58.5715, 7.8362],[58.5710, 7.8362],[58.5707, 7.8363],[58.5696, 7.8371],[58.5694, 7.8372],[58.5691, 7.8371],[58.5687, 7.8368],[58.5680, 7.8370],[58.5669, 7.8368],[58.5666, 7.8368],[58.5664, 7.8369],[58.5657, 7.8373],[58.5652, 7.8382],[58.5650, 7.8384],[58.5645, 7.8389],[58.5641, 7.8397],[58.5632, 7.8413],[58.5631, 7.8415],[58.5623, 7.8420],[58.5618, 7.8426],[58.5616, 7.8431],[58.5614, 7.8440],[58.5611, 7.8445],[58.5607, 7.8455],[58.5606, 7.8457],[58.5604, 7.8458],[58.5595, 7.8459],[58.5587, 7.8459],[58.5584, 7.8458],[58.5578, 7.8452],[58.5575, 7.8449],[58.5574, 7.8448],[58.5568, 7.8436],[58.5566, 7.8428],[58.5564, 7.8424],[58.5563, 7.8422],[58.5554, 7.8417],[58.5552, 7.8415],[58.5546, 7.8405],[58.5544, 7.8404],[58.5542, 7.8404],[58.5539, 7.8404],[58.5535, 7.8407],[58.5529, 7.8418],[58.5528, 7.8421],[58.5526, 7.8422],[58.5525, 7.8422],[58.5521, 7.8421],[58.5520, 7.8421],[58.5513, 7.8426],[58.5505, 7.8425],[58.5499, 7.8429],[58.5496, 7.8428],[58.5494, 7.8427],[58.5490, 7.8420],[58.5489, 7.8419],[58.5483, 7.8425],[58.5476, 7.8423],[58.5474, 7.8424],[58.5468, 7.8430],[58.5464, 7.8432],[58.5462, 7.8432],[58.5448, 7.8428],[58.5447, 7.8428],[58.5445, 7.8429],[58.5443, 7.8432],[58.5441, 7.8443],[58.5436, 7.8454],[58.5430, 7.8478],[58.5428, 7.8483],[58.5424, 7.8484],[58.5422, 7.8484],[58.5420, 7.8484],[58.5415, 7.8481],[58.5404, 7.8484],[58.5400, 7.8481],[58.5394, 7.8476],[58.5385, 7.8461],[58.5383, 7.8459],[58.5378, 7.8458],[58.5374, 7.8451],[58.5369, 7.8449],[58.5365, 7.8443],[58.5362, 7.8437],[58.5360, 7.8422],[58.5358, 7.8416],[58.5358, 7.8414],[58.5354, 7.8412],[58.5351, 7.8410],[58.5344, 7.8393],[58.5341, 7.8384],[58.5336, 7.8379],[58.5328, 7.8369],[58.5322, 7.8364],[58.5319, 7.8363],[58.5311, 7.8362],[58.5304, 7.8355],[58.5292, 7.8350],[58.5289, 7.8349],[58.5279, 7.8351],[58.5273, 7.8351],[58.5261, 7.8350],[58.5254, 7.8348],[58.5242, 7.8347],[58.5240, 7.8348],[58.5237, 7.8351],[58.5228, 7.8366]];
            
            // var broken = [[58.5242, 7.8347],[58.5254, 7.8348],[58.5240, 7.8348],[58.5289, 7.8349],[58.5292, 7.8350],[58.5261, 7.8350],[58.5273, 7.8351],[58.5279, 7.8351],[58.5237, 7.8351],[58.5304, 7.8355],[58.5311, 7.8362],[58.5710, 7.8362],[58.5715, 7.8362],[58.5319, 7.8363],[58.5707, 7.8363],[58.5322, 7.8364],[58.5719, 7.8365],[58.5228, 7.8366],[58.5666, 7.8368],[58.5669, 7.8368],[58.5687, 7.8368],[58.5664, 7.8369],[58.5328, 7.8369],[58.5680, 7.8370],[58.5691, 7.8371],[58.5696, 7.8371],[58.5694, 7.8372],[58.5726, 7.8372],[58.5657, 7.8373],[58.5732, 7.8376],[58.5336, 7.8379],[58.5746, 7.8382],[58.5652, 7.8382],[58.5747, 7.8384],[58.5650, 7.8384],[58.5341, 7.8384],[58.5749, 7.8386],[58.5645, 7.8389],[58.5750, 7.8392],[58.5344, 7.8393],[58.5641, 7.8397],[58.5750, 7.8397],[58.5765, 7.8399],[58.5751, 7.8400],[58.5763, 7.8401],[58.5766, 7.8401],[58.5767, 7.8403],[58.5544, 7.8404],[58.5542, 7.8404],[58.5539, 7.8404],[58.5546, 7.8405],[58.5754, 7.8405],[58.5759, 7.8405],[58.5755, 7.8406],[58.5535, 7.8407],[58.5351, 7.8410],[58.5354, 7.8412],[58.5632, 7.8413],[58.5358, 7.8414],[58.5552, 7.8415],[58.5631, 7.8415],[58.5358, 7.8416],[58.5554, 7.8417],[58.5529, 7.8418],[58.5489, 7.8419],[58.5623, 7.8420],[58.5490, 7.8420],[58.5528, 7.8421],[58.5521, 7.8421],[58.5520, 7.8421],[58.5526, 7.8422],[58.5525, 7.8422],[58.5563, 7.8422],[58.5360, 7.8422],[58.5476, 7.8423],[58.5564, 7.8424],[58.5474, 7.8424],[58.5483, 7.8425],[58.5505, 7.8425],[58.5618, 7.8426],[58.5513, 7.8426],[58.5494, 7.8427],[58.5448, 7.8428],[58.5447, 7.8428],[58.5566, 7.8428],[58.5496, 7.8428],[58.5499, 7.8429],[58.5445, 7.8429],[58.5468, 7.8430],[58.5616, 7.8431],[58.5464, 7.8432],[58.5462, 7.8432],[58.5443, 7.8432],[58.5568, 7.8436],[58.5362, 7.8437],[58.5614, 7.8440],[58.5441, 7.8443],[58.5365, 7.8443],[58.5611, 7.8445],[58.5574, 7.8448],[58.5369, 7.8449],[58.5575, 7.8449],[58.5374, 7.8451],[58.5578, 7.8452],[58.5436, 7.8454],[58.5607, 7.8455],[58.5606, 7.8457],[58.5604, 7.8458],[58.5378, 7.8458],[58.5584, 7.8458],[58.5383, 7.8459],[58.5595, 7.8459],[58.5587, 7.8459],[58.5385, 7.8461],[58.5394, 7.8476],[58.5430, 7.8478],[58.5415, 7.8481],[58.5400, 7.8481],[58.5428, 7.8483],[58.5404, 7.8484],[58.5420, 7.8484],[58.5424, 7.8484],[58.5422, 7.8484]];
            // 
            var broken = [[58.5766, 7.8401],[58.5767, 7.8403],[58.5765, 7.8399],[58.5763, 7.8401],[58.5759, 7.8405],[58.5755, 7.8406],[58.5754, 7.8405],[58.5751, 7.8400],[58.5750, 7.8397],[58.5750, 7.8392],[58.5749, 7.8386],[58.5747, 7.8384],[58.5746, 7.8382],[58.5732, 7.8376],[58.5726, 7.8372],[58.5719, 7.8365],[58.5715, 7.8362],[58.5710, 7.8362],[58.5707, 7.8363],[58.5696, 7.8371],[58.5694, 7.8372],[58.5691, 7.8371],[58.5687, 7.8368],[58.5680, 7.8370],[58.5669, 7.8368],[58.5666, 7.8368],[58.5664, 7.8369],[58.5657, 7.8373],[58.5652, 7.8382],[58.5650, 7.8384],[58.5645, 7.8389],[58.5641, 7.8397],[58.5632, 7.8413],[58.5631, 7.8415],[58.5623, 7.8420],[58.5618, 7.8426],[58.5616, 7.8431],[58.5614, 7.8440],[58.5611, 7.8445],[58.5607, 7.8455],[58.5606, 7.8457],[58.5604, 7.8458],[58.5595, 7.8459],[58.5587, 7.8459],[58.5584, 7.8458],[58.5578, 7.8452],[58.5575, 7.8449],[58.5574, 7.8448],[58.5568, 7.8436],[58.5566, 7.8428],[58.5564, 7.8424],[58.5563, 7.8422],[58.5554, 7.8417],[58.5552, 7.8415],[58.5546, 7.8405],[58.5544, 7.8404],[58.5542, 7.8404],[58.5539, 7.8404],[58.5535, 7.8407],[58.5529, 7.8418],[58.5528, 7.8421],[58.5526, 7.8422],[58.5525, 7.8422],[58.5521, 7.8421],[58.5520, 7.8421],[58.5513, 7.8426],[58.5505, 7.8425],[58.5499, 7.8429],[58.5496, 7.8428],[58.5494, 7.8427],[58.5490, 7.8420],[58.5489, 7.8419],[58.5483, 7.8425],[58.5476, 7.8423],[58.5474, 7.8424],[58.5468, 7.8430],[58.5464, 7.8432],[58.5462, 7.8432],[58.5448, 7.8428],[58.5447, 7.8428],[58.5445, 7.8429],[58.5443, 7.8432],[58.5441, 7.8443],[58.5436, 7.8454],[58.5430, 7.8478],[58.5428, 7.8483],[58.5424, 7.8484],[58.5422, 7.8484],[58.5420, 7.8484],[58.5415, 7.8481],[58.5404, 7.8484],[58.5400, 7.8481],[58.5394, 7.8476],[58.5385, 7.8461],[58.5383, 7.8459],[58.5378, 7.8458],[58.5374, 7.8451],[58.5369, 7.8449],[58.5365, 7.8443],[58.5362, 7.8437],[58.5360, 7.8422],[58.5358, 7.8416],[58.5358, 7.8414],[58.5354, 7.8412],[58.5351, 7.8410],[58.5344, 7.8393],[58.5341, 7.8384],[58.5336, 7.8379],[58.5328, 7.8369],[58.5322, 7.8364],[58.5319, 7.8363],[58.5311, 7.8362],[58.5304, 7.8355],[58.5292, 7.8350],[58.5289, 7.8349],[58.5279, 7.8351],[58.5273, 7.8351],[58.5261, 7.8350],[58.5254, 7.8348],[58.5242, 7.8347],[58.5240, 7.8348],[58.5237, 7.8351],[58.5228, 7.8366]];

            broken = L.polyline(broken, {color: 'red'}).addTo(map);
            // correct = L.polyline(correct, {color: 'green'}).addTo(map);

            // zoom the map to the polyline
            map.fitBounds(broken.getBounds());
        });
    </script>
</head>
<body>
    <div id="map"></div>
</body>
</html>